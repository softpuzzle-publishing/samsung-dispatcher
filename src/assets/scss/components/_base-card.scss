.status-group{display: inline-block;background-image: url('../images/icon-status-group.svg');width: 24px;height: 24px;background-position: 50% 50%;background-repeat: no-repeat;background-size: contain;}
.status-voice{display: inline-block;background-image: url('../images/icon-status-voice.svg');width: 24px;height: 24px;background-position: 50% 50%;background-repeat: no-repeat;background-size: contain;}
.status-video{display: inline-block;background-image: url('../images/icon-status-video.svg');width: 24px;height: 24px;background-position: 50% 50%;background-repeat: no-repeat;background-size: contain;}
.status-regroup{display: inline-block;background-image: url('../images/icon-status-regroup.svg');width: 24px;height: 24px;background-position: 50% 50%;background-repeat: no-repeat;background-size: contain;}
.status-patch{display: inline-block;background-image: url('../images/icon-status-patch.svg');width: 24px;height: 24px;background-position: 50% 50%;background-repeat: no-repeat;background-size: contain;}
.status-broadcast{display: inline-block;background-image: url('../images/icon-status-broadcast.svg');width: 24px;height: 24px;background-position: 50% 50%;background-repeat: no-repeat;background-size: contain;}
.status-emergency{display: inline-block;background-image: url('../images/icon-status-emergency.svg');width: 24px;height: 24px;background-position: 50% 50%;background-repeat: no-repeat;background-size: contain;}
.status-private{display: inline-block;background-image: url('../images/icon-status-private.svg');width: 24px;height: 24px;background-position: 50% 50%;background-repeat: no-repeat;background-size: contain;}

.card{
  background: #2a2c2e;border: 2px solid transparent;border-radius: 14px;width: 100%;aspect-ratio: 210 / 280; overflow: hidden; position: relative;
  @supports not (aspect-ratio: 210 / 280) {
    &::before { float: left; padding-top: 130.33333%; content: ""; }
    &::after { display: block; content: ""; clear: both; }
  }
  &:hover{
    border-color: #b2b2b2; transition: .3s;
  }

  .card-header{
    display: flex; align-items: center; justify-content: space-between;
    padding: 1rem 1rem 1rem;position: relative;z-index: 1;
  }

  .card-body{
    padding: 0 1rem;flex-grow: 1;
  }

  .status{
    display: flex;align-items: center;gap: 6px;
    &::before{content: '';display: none;width: 24px;height: 24px;background: url('../images/checkbox.svg') no-repeat 0 0;background-size: contain;margin-right: 3px;}
    :not(.status-group){display: none;}
  }

  .text-info{
    position: relative;z-index: 1;text-shadow: 1px 1px 2px rgba(0,0,0,0.5);height: 75px;
  }
  .title{
    font-weight: 700;line-height: 1.25; margin-bottom: 4px;overflow: hidden;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;max-height: 2.5em;
  }
  .pttid{color: #fff;}
  .groups{color: #fff;font-size: 10px;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;}
  .text-info-middle{margin-top: .5rem;}
  .name{color: #fff;text-align: center;white-space: nowrap;text-overflow: ellipsis;overflow: hidden; }
  .timer{ font-size: 12px;color: #32D74B;text-align: center; }

  .video-area{
    position: absolute;left: 0;top: 0;right: 0;bottom: 0;
    video{width: 100%;height: 100%;
      &[poster]{
        width: 100%;height: 100%;
      }
    }
  }

  .btns{
    width: 100%; display: flex; justify-content: space-between; position: absolute; left:0; bottom: 0;
    padding: 0 1rem 1rem;
    > div{
      flex: 0 0 54px;height: 54px;
      button{width: 100%;height: 100%;}
    }
  }

  .btn-call-speaking{
    position: relative;
    button{
      display: none;
      i{opacity: .3;}
      .icon-call-fishing{background-image: url('../images/icon-call-fishing.svg'); opacity: 1;}
    }
    .sound-ani{position: absolute;left: 50%;top: -4px;margin-left: -18px;display: none;}
    button.active{
      i{opacity: 1;}
      & ~ .sound-ani{display: flex;}
    }
  }
  .btn-call-end button{display: none;}

  .sound{
    align-items: center;gap: 6px;display: none;
    button.off{
      .icon-speaker{background-image: url('../images/icon-speaker-off.svg');}
      .icon-mic{background-image: url('../images/icon-mic-off.svg');}
    }
  }

  //multiple selected
  &.selected{
    border-color: $PRIMARY_COLOR;
    background-color: #35383d;
    .title,
    .name,
    .time,
    .status{opacity: 1 !important;}
    .status{
      &::before{display: block;background-image: url('../images/checkbox-checked.svg');}
    }
    /* &::before{content: '';position: absolute;left: 0;top: 0;right: 0;bottom: 0;z-index: 1;background: rgba(0,0,0,0.1);} */
  }

  //대기
  &[data-state="standby"]{
    .status-voice,
    .status-video{display: none !important;}
  }

  //통화중이 아닐때
  &:not([data-state="communication"]){
    .title,
    .pttid,
    .name,
    .time,
    .status{opacity: .75;}
  }

  //통화중
  &[data-state="communication"]{
    background-color: #494c50;
    .btn-call-speaking button{display: block;}
    .btn-call-end button{display: block;}
  }

  //주채널
/*   &[data-main="Y"]{
  } */

  //개인 통화
  &[data-private="Y"]{
    .status-private{display: block;}
  }

  //리그룹
  &[data-regroup="Y"]{
    .status-regroup{display: block;}
  }

  //패치
  &[data-patch="Y"]{
    .status-patch{display: block;}
  }

  //브로드캐스트
  &[data-broadcast="Y"]{
    .status-broadcast{display: block;}
  }

  //음성 통화
  &[data-call-type="voice"]{
    .status-voice{display: block;}
  }

  //영상 통화
  &[data-call-type="video"]{
    .status-video{display: block;}
  }

  //비상통화
  &[data-emergency="Y"]{
    .status-emergency{display: block;}
    .btn-call-speaking button{
      .icon-call-mic{background-image: url('../images/icon-call-mic-active-red.svg');}
      .icon-call-fishing{background-image: url('../images/icon-call-fishing-active-red.svg');}
    }
    .sound-ani .bar{background: $DANGER_COLOR;}
  }
}

.top-bar{
  background: $PRIMARY_COLOR;height: 48px;width: 100%;position: absolute;left: 0;top: 0;z-index: 1;display: none;
  padding: 0 1.5rem 0 3.25rem;align-items: center;justify-content: space-between;
  &.show{
    display: flex;
  }
  .btn-top-bar-close{position: absolute;left: 1.5rem;top: 50%;transform: translateY(-50%);}
  .selected-item-length{font-weight: 700;}
  .functions{
    a{
      display: inline-flex;align-items: center;vertical-align: middle;
      i{margin-right: 5px;}
    }
    a + a{margin-left: 1.75rem;}
  }
}

.group-list{
  display: flex;flex-wrap: wrap;margin: -8px;
  .item{
    width: 33.33333%;padding: 8px;
    @media(min-width: 1025px){
      width: 25%;
    }
    @media(min-width: 1281px){
      width: 20%;
    }
    @media(min-width: 1600px){
      width: 16.66666%;
    }
    @media(min-width: 1920px){
      width: 12.5%;
    }
    @media(min-width: 2400px){
      width: 11.11111%;
    }
  }
  /* right open 열렸을 때 */
  @at-root{
    html[class^="is-"]{
      .group-list .item{
        @media(min-width: 960px){
          width: 50%;
        }
        @media(min-width: 992px){

        }
        @media(min-width: 1025px){

        }
        @media(min-width: 1281px){
          width: 33.33333%;
        }
        @media(min-width: 1600px){
          width: 25%;
        }
        @media(min-width: 1920px){
          width: 20%;
        }
        @media(min-width: 2400px){
          width: 12.5%;
        }
      }
    }
  }

  /* multiple selection checked */
  &.selectable{
    a,
    button{pointer-events: none;}
    .status{
      &::before{display: inline-block;}
    }
  }
}